#include "x86/idt.h"

void x86_isr0();
void x86_isr1();
void x86_isr2();
void x86_isr3();
void x86_isr4();
void x86_isr5();
void x86_isr6();
void x86_isr7();
void x86_isr8();
void x86_isr9();
void x86_isr10();
void x86_isr11();
void x86_isr12();
void x86_isr13();
void x86_isr14();
void x86_isr15();
void x86_isr16();
void x86_isr17();
void x86_isr18();
void x86_isr19();
void x86_isr20();
void x86_isr21();
void x86_isr22();
void x86_isr23();
void x86_isr24();
void x86_isr25();
void x86_isr26();
void x86_isr27();
void x86_isr28();
void x86_isr29();
void x86_isr30();
void x86_isr31();
void x86_isr32();
void x86_isr33();
void x86_isr34();
void x86_isr35();
void x86_isr36();
void x86_isr37();
void x86_isr38();
void x86_isr39();
void x86_isr40();
void x86_isr41();
void x86_isr42();
void x86_isr43();
void x86_isr44();
void x86_isr45();
void x86_isr46();
void x86_isr47();
void x86_isr48();
void x86_isr49();
void x86_isr50();
void x86_isr51();
void x86_isr52();
void x86_isr53();
void x86_isr54();
void x86_isr55();
void x86_isr56();
void x86_isr57();
void x86_isr58();
void x86_isr59();
void x86_isr60();
void x86_isr61();
void x86_isr62();
void x86_isr63();
void x86_isr64();
void x86_isr65();
void x86_isr66();
void x86_isr67();
void x86_isr68();
void x86_isr69();
void x86_isr70();
void x86_isr71();
void x86_isr72();
void x86_isr73();
void x86_isr74();
void x86_isr75();
void x86_isr76();
void x86_isr77();
void x86_isr78();
void x86_isr79();
void x86_isr80();
void x86_isr81();
void x86_isr82();
void x86_isr83();
void x86_isr84();
void x86_isr85();
void x86_isr86();
void x86_isr87();
void x86_isr88();
void x86_isr89();
void x86_isr90();
void x86_isr91();
void x86_isr92();
void x86_isr93();
void x86_isr94();
void x86_isr95();
void x86_isr96();
void x86_isr97();
void x86_isr98();
void x86_isr99();
void x86_isr100();
void x86_isr101();
void x86_isr102();
void x86_isr103();
void x86_isr104();
void x86_isr105();
void x86_isr106();
void x86_isr107();
void x86_isr108();
void x86_isr109();
void x86_isr110();
void x86_isr111();
void x86_isr112();
void x86_isr113();
void x86_isr114();
void x86_isr115();
void x86_isr116();
void x86_isr117();
void x86_isr118();
void x86_isr119();
void x86_isr120();
void x86_isr121();
void x86_isr122();
void x86_isr123();
void x86_isr124();
void x86_isr125();
void x86_isr126();
void x86_isr127();
void x86_isr128();
void x86_isr129();
void x86_isr130();
void x86_isr131();
void x86_isr132();
void x86_isr133();
void x86_isr134();
void x86_isr135();
void x86_isr136();
void x86_isr137();
void x86_isr138();
void x86_isr139();
void x86_isr140();
void x86_isr141();
void x86_isr142();
void x86_isr143();
void x86_isr144();
void x86_isr145();
void x86_isr146();
void x86_isr147();
void x86_isr148();
void x86_isr149();
void x86_isr150();
void x86_isr151();
void x86_isr152();
void x86_isr153();
void x86_isr154();
void x86_isr155();
void x86_isr156();
void x86_isr157();
void x86_isr158();
void x86_isr159();
void x86_isr160();
void x86_isr161();
void x86_isr162();
void x86_isr163();
void x86_isr164();
void x86_isr165();
void x86_isr166();
void x86_isr167();
void x86_isr168();
void x86_isr169();
void x86_isr170();
void x86_isr171();
void x86_isr172();
void x86_isr173();
void x86_isr174();
void x86_isr175();
void x86_isr176();
void x86_isr177();
void x86_isr178();
void x86_isr179();
void x86_isr180();
void x86_isr181();
void x86_isr182();
void x86_isr183();
void x86_isr184();
void x86_isr185();
void x86_isr186();
void x86_isr187();
void x86_isr188();
void x86_isr189();
void x86_isr190();
void x86_isr191();
void x86_isr192();
void x86_isr193();
void x86_isr194();
void x86_isr195();
void x86_isr196();
void x86_isr197();
void x86_isr198();
void x86_isr199();
void x86_isr200();
void x86_isr201();
void x86_isr202();
void x86_isr203();
void x86_isr204();
void x86_isr205();
void x86_isr206();
void x86_isr207();
void x86_isr208();
void x86_isr209();
void x86_isr210();
void x86_isr211();
void x86_isr212();
void x86_isr213();
void x86_isr214();
void x86_isr215();
void x86_isr216();
void x86_isr217();
void x86_isr218();
void x86_isr219();
void x86_isr220();
void x86_isr221();
void x86_isr222();
void x86_isr223();
void x86_isr224();
void x86_isr225();
void x86_isr226();
void x86_isr227();
void x86_isr228();
void x86_isr229();
void x86_isr230();
void x86_isr231();
void x86_isr232();
void x86_isr233();
void x86_isr234();
void x86_isr235();
void x86_isr236();
void x86_isr237();
void x86_isr238();
void x86_isr239();
void x86_isr240();
void x86_isr241();
void x86_isr242();
void x86_isr243();
void x86_isr244();
void x86_isr245();
void x86_isr246();
void x86_isr247();
void x86_isr248();
void x86_isr249();
void x86_isr250();
void x86_isr251();
void x86_isr252();
void x86_isr253();
void x86_isr254();
void x86_isr255();

#define IDT_COUNT 256
#define KERNEL_GDT_CODE_SEGMENT 0x08

IDT_ENTRY g_idt[IDT_COUNT];

IDT_PTR idt_ptr;

void idt_init_isr();

void idt_intall() {
  idt_init_isr();

  idt_ptr.base = (uint32_t)&g_idt;
  idt_ptr.limit = sizeof(g_idt) - 1;

  idt_flush(&idt_ptr);
}

void idt_set_gate(uint32_t interrupt, void *base, uint16_t segment,
                  uint8_t flags) {
  g_idt[interrupt].base_low = ((uint32_t)base & 0xFFFF);
  g_idt[interrupt].segment_selector = segment;
  g_idt[interrupt].reserved = 0;
  g_idt[interrupt].flags = flags;
  g_idt[interrupt].base_high = ((uint32_t)base >> 16) & 0xFFFF;
}

void idt_enable_gate(uint32_t interrupt) {
  g_idt[interrupt].flags |= IDT_FLAG_PRESENT;
}

void idt_disable_gate(uint32_t interrupt) {
  g_idt[interrupt].flags &= ~(IDT_FLAG_PRESENT);
}

void idt_init_isr() {
  idt_set_gate(0, x86_isr0, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(1, x86_isr1, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(2, x86_isr2, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(3, x86_isr3, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(4, x86_isr4, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(5, x86_isr5, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(6, x86_isr6, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(7, x86_isr7, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(8, x86_isr8, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(9, x86_isr9, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(10, x86_isr10, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(11, x86_isr11, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(12, x86_isr12, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(13, x86_isr13, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(14, x86_isr14, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(15, x86_isr15, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(16, x86_isr16, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(17, x86_isr17, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(18, x86_isr18, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(19, x86_isr19, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(20, x86_isr20, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(21, x86_isr21, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(22, x86_isr22, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(23, x86_isr23, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(24, x86_isr24, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(25, x86_isr25, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(26, x86_isr26, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(27, x86_isr27, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(28, x86_isr28, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(29, x86_isr29, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(30, x86_isr30, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(31, x86_isr31, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(32, x86_isr32, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(33, x86_isr33, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(34, x86_isr34, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(35, x86_isr35, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(36, x86_isr36, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(37, x86_isr37, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(38, x86_isr38, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(39, x86_isr39, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(40, x86_isr40, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(41, x86_isr41, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(42, x86_isr42, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(43, x86_isr43, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(44, x86_isr44, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(45, x86_isr45, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(46, x86_isr46, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(47, x86_isr47, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(48, x86_isr48, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(49, x86_isr49, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(50, x86_isr50, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(51, x86_isr51, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(52, x86_isr52, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(53, x86_isr53, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(54, x86_isr54, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(55, x86_isr55, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(56, x86_isr56, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(57, x86_isr57, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(58, x86_isr58, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(59, x86_isr59, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(60, x86_isr60, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(61, x86_isr61, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(62, x86_isr62, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(63, x86_isr63, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(64, x86_isr64, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(65, x86_isr65, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(66, x86_isr66, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(67, x86_isr67, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(68, x86_isr68, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(69, x86_isr69, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(70, x86_isr70, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(71, x86_isr71, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(72, x86_isr72, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(73, x86_isr73, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(74, x86_isr74, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(75, x86_isr75, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(76, x86_isr76, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(77, x86_isr77, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(78, x86_isr78, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(79, x86_isr79, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(80, x86_isr80, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(81, x86_isr81, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(82, x86_isr82, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(83, x86_isr83, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(84, x86_isr84, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(85, x86_isr85, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(86, x86_isr86, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(87, x86_isr87, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(88, x86_isr88, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(89, x86_isr89, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(90, x86_isr90, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(91, x86_isr91, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(92, x86_isr92, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(93, x86_isr93, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(94, x86_isr94, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(95, x86_isr95, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(96, x86_isr96, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(97, x86_isr97, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(98, x86_isr98, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(99, x86_isr99, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(100, x86_isr100, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(101, x86_isr101, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(102, x86_isr102, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(103, x86_isr103, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(104, x86_isr104, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(105, x86_isr105, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(106, x86_isr106, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(107, x86_isr107, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(108, x86_isr108, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(109, x86_isr109, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(110, x86_isr110, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(111, x86_isr111, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(112, x86_isr112, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(113, x86_isr113, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(114, x86_isr114, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(115, x86_isr115, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(116, x86_isr116, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(117, x86_isr117, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(118, x86_isr118, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(119, x86_isr119, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(120, x86_isr120, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(121, x86_isr121, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(122, x86_isr122, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(123, x86_isr123, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(124, x86_isr124, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(125, x86_isr125, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(126, x86_isr126, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(127, x86_isr127, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(128, x86_isr128, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING3 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(129, x86_isr129, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(130, x86_isr130, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(131, x86_isr131, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(132, x86_isr132, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(133, x86_isr133, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(134, x86_isr134, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(135, x86_isr135, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(136, x86_isr136, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(137, x86_isr137, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(138, x86_isr138, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(139, x86_isr139, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(140, x86_isr140, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(141, x86_isr141, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(142, x86_isr142, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(143, x86_isr143, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(144, x86_isr144, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(145, x86_isr145, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(146, x86_isr146, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(147, x86_isr147, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(148, x86_isr148, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(149, x86_isr149, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(150, x86_isr150, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(151, x86_isr151, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(152, x86_isr152, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(153, x86_isr153, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(154, x86_isr154, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(155, x86_isr155, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(156, x86_isr156, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(157, x86_isr157, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(158, x86_isr158, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(159, x86_isr159, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(160, x86_isr160, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(161, x86_isr161, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(162, x86_isr162, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(163, x86_isr163, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(164, x86_isr164, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(165, x86_isr165, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(166, x86_isr166, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(167, x86_isr167, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(168, x86_isr168, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(169, x86_isr169, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(170, x86_isr170, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(171, x86_isr171, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(172, x86_isr172, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(173, x86_isr173, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(174, x86_isr174, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(175, x86_isr175, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(176, x86_isr176, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(177, x86_isr177, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(178, x86_isr178, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(179, x86_isr179, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(180, x86_isr180, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(181, x86_isr181, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(182, x86_isr182, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(183, x86_isr183, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(184, x86_isr184, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(185, x86_isr185, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(186, x86_isr186, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(187, x86_isr187, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(188, x86_isr188, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(189, x86_isr189, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(190, x86_isr190, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(191, x86_isr191, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(192, x86_isr192, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(193, x86_isr193, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(194, x86_isr194, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(195, x86_isr195, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(196, x86_isr196, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(197, x86_isr197, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(198, x86_isr198, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(199, x86_isr199, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(200, x86_isr200, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(201, x86_isr201, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(202, x86_isr202, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(203, x86_isr203, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(204, x86_isr204, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(205, x86_isr205, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(206, x86_isr206, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(207, x86_isr207, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(208, x86_isr208, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(209, x86_isr209, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(210, x86_isr210, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(211, x86_isr211, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(212, x86_isr212, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(213, x86_isr213, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(214, x86_isr214, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(215, x86_isr215, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(216, x86_isr216, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(217, x86_isr217, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(218, x86_isr218, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(219, x86_isr219, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(220, x86_isr220, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(221, x86_isr221, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(222, x86_isr222, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(223, x86_isr223, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(224, x86_isr224, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(225, x86_isr225, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(226, x86_isr226, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(227, x86_isr227, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(228, x86_isr228, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(229, x86_isr229, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(230, x86_isr230, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(231, x86_isr231, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(232, x86_isr232, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(233, x86_isr233, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(234, x86_isr234, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(235, x86_isr235, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(236, x86_isr236, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(237, x86_isr237, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(238, x86_isr238, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(239, x86_isr239, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(240, x86_isr240, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(241, x86_isr241, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(242, x86_isr242, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(243, x86_isr243, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(244, x86_isr244, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(245, x86_isr245, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(246, x86_isr246, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(247, x86_isr247, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(248, x86_isr248, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(249, x86_isr249, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(250, x86_isr250, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(251, x86_isr251, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(252, x86_isr252, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(253, x86_isr253, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(254, x86_isr254, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);
  idt_set_gate(255, x86_isr255, KERNEL_GDT_CODE_SEGMENT,
               IDT_FLAG_RING0 | IDT_FLAG_GATE_32BIT_INT);

  for (uint32_t i = 0; i < 256; i++) {
    idt_enable_gate(i);
  }

  // disable 0x80 for system call
  // idt_disable_gate(0x80);
}
